cc_library(
    name = "muduo_net",
    srcs = [
        "Acceptor.cc",
        "Buffer.cc",
        "Channel.cc",
        "Connector.cc",
        "Endian.h",
        "EventLoop.cc",
        "EventLoopThread.cc",
        "EventLoopThreadPool.cc",
        "InetAddress.cc",
        "Poller.cc",
        "Socket.cc",
        "SocketsOps.cc",
        "TcpClient.cc",
        "TcpConnection.cc",
        "TcpServer.cc",
        "Timer.cc",
        "TimerId.h",
        "TimerQueue.cc",
        "ZlibStream.h",
        "poller/DefaultPoller.cc",
        "poller/EPollPoller.cc",
        "poller/PollPoller.cc",
        "http/HttpServer.cc",
        "http/HttpResponse.cc",
        "http/HttpContext.cc",
        "Callbacks.h"
    ],
    hdrs = [
        "Acceptor.h",
        "Buffer.h",
        "Channel.h",
        "Connector.h",
        "EventLoop.h",
        "EventLoopThread.h",
        "EventLoopThreadPool.h",
        "InetAddress.h",
        "Poller.h",
        "Socket.h",
        "SocketsOps.h",
        "TcpClient.h",
        "TcpConnection.h",
        "TcpServer.h",
        "Timer.h",
        "TimerQueue.h",
        "poller/DefaultPoller.h",
        "poller/EPollPoller.h",
        "poller/PollPoller.h",
        "http/HttpServer.h",
        "http/HttpResponse.h",
        "http/HttpContext.h",
    ],
    deps = [
        "//thirdparty/muduo-cpp11/base:muduo_base",
    ],
    extra_cppflags = [
        "-Wno-format-nonliteral",
        "-Wno-vla",
    ],
    visibility = ["PUBLIC"],
)

cc_binary(
    name = 'muduo_test',
    srcs = 'muduo_test.cc',
    deps = [
        "//thirdparty/muduo-cpp11/base:muduo_base",
    ],
)
